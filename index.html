<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Braiain AI Speed Index | Daily LLM Benchmarks</title>
    <meta name="description" content="Real-time AI model speed benchmarks. Compare OpenAI, Anthropic, Google Gemini, Groq, and more API latency performance updated daily.">
    
    <!-- SEO Meta Tags -->
    <meta name="keywords" content="AI benchmarks, LLM speed test, OpenAI GPT-4, Claude API, Gemini speed, Groq performance, AI API comparison">
    <meta name="author" content="Braiain AI Speed Index">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Braiain AI Speed Index - Daily LLM Benchmarks">
    <meta property="og:description" content="Real-time AI model speed benchmarks. Compare response times, tokens-per-second, and costs across major LLM providers.">
    <meta property="og:type" content="website">
    
    <!-- Google Analytics GA4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1Y5SESHWEE"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-1Y5SESHWEE');
    </script>
    
    <!-- Chart.js - SINGLE IMPORT -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <style>
        :root {
            --bg-primary: #f5f5f7;
            --bg-secondary: #ffffff;
            --bg-tertiary: #f9f9f9;
            --text-primary: #1c1c1c;
            --text-secondary: #555;
            --text-tertiary: #777;
            --border-color: #e0e0e0;
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
            --shadow-lg: 0 6px 16px rgba(0,0,0,0.15);
            --accent-blue: #2196f3;
            --accent-green: #4caf50;
            --accent-red: #f44336;
        }
        
        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-tertiary: #252525;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --text-tertiary: #888;
            --border-color: #404040;
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.3);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.4);
            --shadow-lg: 0 6px 16px rgba(0,0,0,0.5);
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }
        
        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            text-align: center;
            padding: 40px 20px 30px;
            margin-bottom: 30px;
            position: relative;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            padding: 10px 18px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }
        
        .theme-toggle:hover {
            background: rgba(255,255,255,0.25);
            transform: scale(1.05);
        }
        
        h1 { 
            font-size: 2.8em; 
            margin: 0 0 12px 0;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .tagline { 
            font-size: 1.2em; 
            color: rgba(255,255,255,0.9); 
            margin: 0 0 20px 0;
            font-weight: 300;
        }
        
        .header-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .header-stat {
            text-align: center;
        }
        
        .header-stat-value {
            font-size: 2em;
            font-weight: 700;
            display: block;
        }
        
        .header-stat-label {
            font-size: 0.85em;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .controls-bar {
            max-width: 1200px;
            margin: 20px auto;
            padding: 15px 20px;
            background: var(--bg-secondary);
            border-radius: 12px;
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            box-shadow: var(--shadow-sm);
            flex-wrap: wrap;
        }
        
        .sort-btn {
            padding: 12px 24px;
            border: 2px solid var(--accent-blue);
            background: var(--bg-secondary);
            color: var(--accent-blue);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            font-size: 0.95em;
        }
        
        .sort-btn.active {
            background: var(--accent-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }
        
        .sort-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }
        
        .refresh-btn {
            padding: 12px 24px;
            border: 2px solid var(--accent-green);
            background: var(--bg-secondary);
            color: var(--accent-green);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            font-size: 0.95em;
            margin-left: 10px;
        }
        
        .refresh-btn:hover {
            background: var(--accent-green);
            color: white;
            transform: translateY(-2px);
        }
        
        .about-section { 
            max-width: 1200px; 
            margin: 30px auto; 
            padding: 0 20px; 
        }
        
        .intro-box {
            background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-tertiary) 100%);
            padding: 30px;
            border-radius: 12px;
            border-left: 4px solid var(--accent-blue);
            box-shadow: var(--shadow-md);
            margin-bottom: 30px;
        }
        
        .intro-box p {
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 15px;
        }
        
        .intro-box p:last-child {
            margin-bottom: 0;
        }
        
        .highlight {
            color: var(--accent-blue);
            font-weight: 600;
        }
        
        h2 { 
            color: var(--text-primary);
            font-size: 1.8em; 
            margin-top: 40px;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--accent-blue);
            padding-bottom: 12px;
            font-weight: 700;
        }
        
        h3 {
            color: var(--text-primary);
            font-size: 1.3em;
            margin-top: 25px;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .data-source-indicator {
            max-width: 1200px;
            margin: 10px auto;
            padding: 15px 20px;
            text-align: center;
            font-size: 0.95em;
            border-radius: 8px;
            font-weight: 500;
        }
        
        .data-live {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            color: #155724;
            border: 2px solid #b1dfbb;
        }
        
        .data-fallback {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            color: #856404;
            border: 2px solid #ffd93d;
        }
        
        .leaderboard-cards-wrapper {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 24px; 
            justify-content: center;
            align-items: flex-start; 
        }

        .model-card {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            width: 100%;
            max-width: 360px;
            box-shadow: var(--shadow-md);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .model-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-green));
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .model-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }
        
        .model-card:hover::before {
            opacity: 1;
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 18px;
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 12px;
        }
        
        .rank-badge {
            background-color: #666;
            color: white;
            padding: 8px 14px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1.3em;
            margin-right: 15px;
            flex-shrink: 0;
            min-width: 50px;
            text-align: center;
        }
        
        .rank-badge.rank-1 { 
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); 
            color: #1c1c1c;
            box-shadow: 0 4px 12px rgba(255, 215, 0, 0.5);
            animation: pulse 2s ease-in-out infinite;
        }
        
        .rank-badge.rank-2 { 
            background: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%); 
            color: #1c1c1c;
            box-shadow: 0 4px 12px rgba(192, 192, 192, 0.5);
        }
        
        .rank-badge.rank-3 { 
            background: linear-gradient(135deg, #cd7f32 0%, #e6a85c 100%); 
            color: #1c1c1c;
            box-shadow: 0 4px 12px rgba(205, 127, 50, 0.5);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .provider-model-wrapper {
            display: flex;
            flex-direction: column;
            line-height: 1.3;
            overflow: hidden; 
            flex: 1;
        }
        
        .card-provider { 
            font-size: 1.4em; 
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .card-model { 
            font-size: 0.9em; 
            color: var(--text-secondary); 
            word-break: break-word; 
        }

        .stats-wrapper {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 18px;
            padding: 12px 0;
        }
        
        .stat-group { 
            text-align: center;
            padding: 8px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            transition: transform 0.2s;
        }
        
        .stat-group:hover {
            transform: scale(1.05);
        }
        
        .stat-value {
            font-size: 1.4em;
            font-weight: bold;
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.1;
        }
        
        .stat-label { 
            font-size: 0.75em; 
            color: var(--text-tertiary);
            text-transform: uppercase; 
            margin-bottom: 6px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }
        
        .speed-fast, .tps-fast { color: #2e7d32; }
        .speed-medium, .tps-medium { color: #f57c00; }
        .speed-slow, .tps-slow { color: #c62828; }
        
        .status-online { color: #2e7d32; }
        .status-error { color: #c62828; }
        
        .cost-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 600;
            margin-top: 8px;
        }
        
        .cost-free { 
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            color: #2e7d32;
            border: 1px solid #a5d6a7;
        }
        
        .cost-cheap { 
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            color: #f57c00;
            border: 1px solid #ffcc80;
        }
        
        .cost-expensive { 
            background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
            color: #c62828;
            border: 1px solid #ef9a9a;
        }

        .response-preview-bottom {
            margin: 18px 0 0 0;
            padding: 14px;
            padding-bottom: 40px;
            background: var(--bg-tertiary);
            border-radius: 8px;
            border-left: 4px solid var(--accent-blue);
            font-size: 0.85em;
            line-height: 1.6;
            color: var(--text-secondary);
            max-height: 120px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            transition: max-height 0.4s ease, box-shadow 0.3s;
            word-wrap: break-word;
            white-space: pre-wrap;
        }
        
        .response-preview-bottom.expanded {
            max-height: 2000px;
            cursor: default;
        }
        
        .response-preview-bottom:hover {
            box-shadow: var(--shadow-sm);
            border-left-color: #1976d2;
        }
        
        .response-preview-bottom::after {
            content: '‚ñº Click to expand';
            position: absolute;
            bottom: 8px;
            right: 12px;
            font-size: 0.75em;
            color: var(--accent-blue);
            font-weight: 600;
            background: var(--bg-tertiary);
            padding: 4px 10px;
            border-radius: 4px;
        }
        
        .response-preview-bottom.expanded::after {
            content: '‚ñ≤ Click to collapse';
        }
        
        .copy-btn {
            position: absolute;
            bottom: 10px;
            left: 12px;
            padding: 6px 14px;
            background: var(--accent-blue);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8em;
            font-weight: 600;
            opacity: 0;
            transition: opacity 0.3s, background 0.2s, transform 0.2s;
            z-index: 10;
        }
        
        .response-preview-bottom.expanded .copy-btn {
            opacity: 1;
        }
        
        .copy-btn:hover {
            background: #1976d2;
            transform: scale(1.05);
        }
        
        .char-count-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .char-ok { background: #e8f5e9; color: #2e7d32; }
        .char-warn { background: #fff3cd; color: #856404; }
        .char-over { background: #ffebee; color: #c62828; }
        .char-short { background: #e3f2fd; color: #1976d2; }

        .badge-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 12px 0;
        }
        
        .badge {
            padding: 5px 12px;
            border-radius: 14px;
            font-size: 0.75em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .badge-fastest { 
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: #1c1c1c; 
        }
        
        .badge-best-value { 
            background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
            color: white; 
        }
        
        .badge-highest-tps { 
            background: linear-gradient(135deg, #2196f3 0%, #42a5f5 100%);
            color: white; 
        }

        .affiliate-btn {
            background: linear-gradient(135deg, var(--accent-blue) 0%, #1976d2 100%);
            color: white;
            padding: 14px 22px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
            font-size: 0.95em;
            transition: all 0.3s;
            text-align: center;
            margin-top: 12px;
            display: block;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }
        
        .affiliate-btn:hover { 
            background: linear-gradient(135deg, #1976d2 0%, #1565c0 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 150, 243, 0.4);
        }

        #last-updated-wrapper { 
            text-align: center; 
            margin: 40px auto; 
            font-size: 1em; 
            color: var(--text-tertiary);
            padding: 0 20px;
        }
        
        .methodology-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }
        
        .methodology-card {
            background: var(--bg-secondary);
            padding: 24px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-sm);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .methodology-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }
        
        .methodology-card h3 {
            margin-top: 0;
            color: var(--accent-blue);
            font-size: 1.2em;
        }
        
        .info-list {
            list-style: none;
            padding: 0;
        }
        
        .info-list li {
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .info-list li:last-child {
            border-bottom: none;
        }
        
        .info-label {
            font-weight: 600;
            color: var(--text-secondary);
        }
        
        .info-value {
            color: var(--text-primary);
            font-weight: 500;
        }
        
        .adsense-container {
            max-width: 1200px;
            margin: 50px auto;
            padding: 25px;
            text-align: center;
            background: var(--bg-tertiary);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }
        
        .adsense-label {
            font-size: 0.75em;
            color: #999;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
        }
        
        .chart-section {
            max-width: 1200px;
            margin: 50px auto;
            padding: 30px;
            background: var(--bg-secondary);
            border-radius: 12px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
        }
        
        .chart-container {
            position: relative;
            height: 400px;
            margin-top: 25px;
        }
        
        .chart-controls {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .chart-btn {
            padding: 10px 20px;
            border: 2px solid var(--accent-blue);
            background: var(--bg-secondary);
            color: var(--accent-blue);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }
        
        .chart-btn.active {
            background: var(--accent-blue);
            color: white;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }
        
        .chart-btn:hover {
            transform: translateY(-2px);
        }
        
        .faq-section {
            max-width: 1200px;
            margin: 50px auto;
            padding: 0 20px;
        }
        
        .faq-item {
            background: var(--bg-secondary);
            margin-bottom: 15px;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-sm);
        }
        
        .faq-question {
            padding: 20px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1em;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }
        
        .faq-question:hover {
            background: var(--bg-tertiary);
        }
        
        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
        }
        
        .faq-item.active .faq-answer {
            padding: 20px;
            max-height: 500px;
        }
        
        .faq-toggle {
            font-size: 1.2em;
            transition: transform 0.3s;
        }
        
        .faq-item.active .faq-toggle {
            transform: rotate(180deg);
        }
        
        #site-footer { 
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: rgba(255,255,255,0.9); 
            padding: 40px 20px; 
            text-align: center; 
            font-size: 0.9em; 
            margin-top: 80px; 
        }
        
        #site-footer a { 
            color: #64b5f6; 
            text-decoration: none; 
            font-weight: bold; 
        }
        
        #site-footer a:hover { 
            text-decoration: underline; 
            color: #90caf9;
        }
        
        .legal-text { 
            margin-top: 20px; 
            font-size: 0.85em; 
            color: rgba(255,255,255,0.7); 
            line-height: 1.6; 
        }

        .loading-container { 
            width: 100%; 
            text-align: center; 
            padding: 60px 20px; 
        }
        
        .loading-spinner {
            border: 5px solid var(--border-color);
            border-top: 5px solid var(--accent-blue);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1s linear infinite;
            margin: 0 auto 25px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            .tagline { font-size: 1em; }
            .model-card { max-width: 100%; }
            .stats-wrapper { grid-template-columns: repeat(2, 1fr); }
            .stat-group:last-child { grid-column: 1 / -1; }
            .chart-container { height: 300px; }
            .controls-bar { padding: 15px; }
            .theme-toggle { 
                position: static; 
                margin: 15px auto; 
                display: block; 
                width: fit-content; 
            }
            header { padding: 25px 15px; }
            .header-stats { gap: 20px; }
            .methodology-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <header>
        <button class="theme-toggle" onclick="toggleTheme()" title="Toggle dark mode" aria-label="Toggle dark mode">üåì</button>
        <h1>ü§ñ Braiain AI Speed Index</h1>
        <p class="tagline">Independent, Real-Time LLM Performance Benchmarks</p>
        <div class="header-stats">
            <div class="header-stat">
                <span class="header-stat-value" id="provider-count">7</span>
                <span class="header-stat-label">Providers Tested</span>
            </div>
            <div class="header-stat">
                <span class="header-stat-value" id="test-frequency">Daily</span>
                <span class="header-stat-label">Update Frequency</span>
            </div>
            <div class="header-stat">
                <span class="header-stat-value" id="data-points">30</span>
                <span class="header-stat-label">Days of History</span>
            </div>
        </div>
    </header>

    <div id="data-source-indicator"></div>

    <section class="about-section">
        <div class="intro-box">
            <p>
                Welcome to the <strong>Braiain AI Speed Index</strong>‚Äîyour independent source for <span class="highlight">real-world LLM performance data</span>. Unlike marketing benchmarks, we measure what matters: actual API response times, throughput, and cost efficiency across all major AI providers.
            </p>
            <p>
                Our automated testing system runs <span class="highlight">identical prompts</span> across OpenAI, Anthropic, Google, Groq, Mistral, Cohere, and Together AI every day, tracking speed (latency), tokens-per-second (throughput), and per-request costs. Whether you're building production applications or comparing API options, our data helps you make <span class="highlight">informed, unbiased decisions</span> based on objective performance metrics.
            </p>
            <p>
                All tests run from the same infrastructure under controlled conditions, ensuring <span class="highlight">apples-to-apples comparisons</span>. Data updates automatically every 6 hours, with 30 days of historical trends available for analysis.
            </p>
        </div>
    </section>

    <!-- SORT CONTROLS -->
    <div class="controls-bar">
        <strong>Sort by:</strong>
        <button class="sort-btn active" onclick="sortResults('speed')" aria-label="Sort by speed">‚ö° Speed</button>
        <button class="sort-btn" onclick="sortResults('tps')" aria-label="Sort by tokens per second">üöÄ TPS</button>
        <button class="sort-btn" onclick="sortResults('cost')" aria-label="Sort by cost">üí∞ Cost</button>
        <button class="refresh-btn" onclick="refreshData()" aria-label="Refresh data">üîÑ Refresh</button>
    </div>

    <!-- LEADERBOARD CARDS -->
    <div class="leaderboard-cards-wrapper" id="results-container">
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <p>Loading benchmark data...</p>
        </div>
    </div>
    
    <div id="last-updated-wrapper">
        <span id="last-updated"></span>
    </div>

    <!-- GOOGLE ADSENSE -->
    <div class="adsense-container">
        <div class="adsense-label">Advertisement</div>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2906493623732277"
             crossorigin="anonymous"></script>
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-2906493623732277"
             data-ad-slot="5895952530"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>

    <!-- TREND CHART SECTION -->
    <section class="chart-section" id="chart-section" style="display: none;">
        <h2>üìà Performance Trends</h2>
        <p style="color: var(--text-tertiary); font-size: 0.95em; margin-bottom: 10px;">Historical speed comparison over time (lower is better)</p>
        
        <div class="chart-controls">
            <button class="chart-btn active" onclick="updateChartRange(7)">7 Days</button>
            <button class="chart-btn" onclick="updateChartRange(30)">30 Days</button>
            <button class="chart-btn" onclick="updateChartRange(0)">All Time</button>
        </div>
        
        <div class="chart-container">
            <canvas id="trendChart"></canvas>
        </div>
    </section>

    <section class="about-section">
        <h2>üî¨ Methodology & Testing Framework</h2>
        
        <div class="intro-box">
            <p>
                Our benchmarking methodology is designed to provide <span class="highlight">fair, reproducible, and meaningful</span> performance comparisons across all major LLM providers. Every test uses identical conditions to ensure data integrity and comparability.
            </p>
        </div>
        
        <div class="methodology-grid">
            <div class="methodology-card">
                <h3>üìã Test Prompt</h3>
                <p>All providers receive an identical 3-paragraph writing task requiring 1000-1200 characters. This tests real-world generation capabilities rather than simple completions.</p>
                <ul class="info-list">
                    <li><span class="info-label">Task Type:</span> <span class="info-value">Historical summary</span></li>
                    <li><span class="info-label">Target Length:</span> <span class="info-value">1100 chars</span></li>
                    <li><span class="info-label">Complexity:</span> <span class="info-value">Medium</span></li>
                </ul>
            </div>
            
            <div class="methodology-card">
                <h3>‚öôÔ∏è Test Configuration</h3>
                <p>Each API call uses optimized parameters tuned per provider to achieve consistent output quality and length.</p>
                <ul class="info-list">
                    <li><span class="info-label">Max Tokens:</span> <span class="info-value">240-650</span></li>
                    <li><span class="info-label">Temperature:</span> <span class="info-value">Default/0.8</span></li>
                    <li><span class="info-label">Retries:</span> <span class="info-value">3 attempts</span></li>
                </ul>
            </div>
            
            <div class="methodology-card">
                <h3>üåê Test Environment</h3>
                <p>All tests run from consistent infrastructure to eliminate network variability and ensure fair comparisons.</p>
                <ul class="info-list">
                    <li><span class="info-label">Location:</span> <span class="info-value">Fixed datacenter</span></li>
                    <li><span class="info-label">Connection:</span> <span class="info-value">Dedicated</span></li>
                    <li><span class="info-label">Frequency:</span> <span class="info-value">Every 6 hours</span></li>
                </ul>
            </div>
            
            <div class="methodology-card">
                <h3>üìä Metrics Collected</h3>
                <p>We track multiple performance dimensions to provide a complete picture of API performance.</p>
                <ul class="info-list">
                    <li><span class="info-label">Latency:</span> <span class="info-value">End-to-end time</span></li>
                    <li><span class="info-label">Throughput:</span> <span class="info-value">Tokens/second</span></li>
                    <li><span class="info-label">Cost:</span> <span class="info-value">Per request</span></li>
                    <li><span class="info-label">Quality:</span> <span class="info-value">Char count</span></li>
                </ul>
            </div>
            
            <div class="methodology-card">
                <h3>‚úÖ Quality Validation</h3>
                <p>Each response undergoes automatic validation to ensure it meets requirements before being recorded.</p>
                <ul class="info-list">
                    <li><span class="info-label">Length Check:</span> <span class="info-value">1000-1200 chars</span></li>
                    <li><span class="info-label">Completion:</span> <span class="info-value">Full sentence</span></li>
                    <li><span class="info-label">Retry Logic:</span> <span class="info-value">Auto-retry 3x</span></li>
                </ul>
            </div>
            
            <div class="methodology-card">
                <h3>üíæ Data Storage</h3>
                <p>Results are stored with full historical tracking to identify trends and anomalies over time.</p>
                <ul class="info-list">
                    <li><span class="info-label">History:</span> <span class="info-value">30 days rolling</span></li>
                    <li><span class="info-label">Full Responses:</span> <span class="info-value">Stored</span></li>
                    <li><span class="info-label">Update:</span> <span class="info-value">Real-time</span></li>
                </ul>
            </div>
        </div>
        
        <h3>üéØ What We Measure</h3>
        <ul>
            <li><strong>Speed (Latency):</strong> Total time from API request to complete response. Measured in seconds. Lower is better. Critical for real-time applications.</li>
            <li><strong>TPS (Tokens Per Second):</strong> Throughput metric showing how quickly the model generates tokens. Higher is better. Important for long-form generation.</li>
            <li><strong>Cost Per Request:</strong> Actual API cost based on current pricing (input + output tokens). Calculated using official pricing tables. Free tiers shown as $0.00.</li>
            <li><strong>Character Count:</strong> Response length validation. Target is 1000-1200 characters to ensure consistent comparison. Responses outside this range may indicate model issues.</li>
            <li><strong>Output Tokens:</strong> Number of tokens generated in the response. Used for cost calculation and throughput metrics.</li>
        </ul>
        
        <h3>‚ö†Ô∏è Important Limitations</h3>
        <ul>
            <li><strong>Network Variability:</strong> While we use consistent infrastructure, internet conditions can affect absolute times. Focus on relative comparisons.</li>
            <li><strong>Model Updates:</strong> Providers may update models without notice. Performance can change over time.</li>
            <li><strong>Prompt Sensitivity:</strong> Different prompts may yield different relative performance. Our test is one scenario.</li>
            <li><strong>Geographic Location:</strong> Results may vary based on proximity to provider data centers.</li>
            <li><strong>Rate Limits:</strong> We respect all provider rate limits. Tests may be delayed during high-load periods.</li>
        </ul>
    </section>

    <!-- FAQ SECTION -->
    <section class="faq-section">
        <h2>‚ùì Frequently Asked Questions</h2>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Why do speeds vary between tests?
                <span class="faq-toggle">‚ñº</span>
            </div>
            <div class="faq-answer">
                API response times naturally fluctuate due to server load, network conditions, and provider infrastructure changes. We track 30 days of history so you can see trends rather than individual variations. Look at the 7-day or 30-day averages for more reliable comparisons.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Which metric should I prioritize?
                <span class="faq-toggle">‚ñº</span>
            </div>
            <div class="faq-answer">
                It depends on your use case: For real-time chat applications, prioritize <strong>Speed (latency)</strong>. For batch processing or long-form generation, <strong>TPS (throughput)</strong> matters more. For cost-sensitive applications, focus on <strong>Cost per Request</strong>. For most users, a balance of speed and cost is optimal.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Are these results representative of all use cases?
                <span class="faq-toggle">‚ñº</span>
            </div>
            <div class="faq-answer">
                Our benchmark uses a specific prompt type (medium-length creative writing). Results may differ for other tasks like code generation, question answering, or very long documents. However, our test provides a good baseline for comparing general-purpose performance.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Why are some providers marked as "API FAILURE"?
                <span class="faq-toggle">‚ñº</span>
            </div>
            <div class="faq-answer">
                API failures can occur due to: API key issues, rate limiting, temporary service outages, model deprecation, or network problems. We automatically retry failed requests. Persistent failures are tracked in our historical data.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                How accurate are the cost calculations?
                <span class="faq-toggle">‚ñº</span>
            </div>
            <div class="faq-answer">
                Costs are calculated using official pricing tables from each provider and actual token counts from API responses. Prices are accurate as of the last update but may change. Some providers offer volume discounts or different pricing tiers not reflected here.
            </div>
        </div>
        
        <div class="faq-item">
            <div class="faq-question" onclick="toggleFAQ(this)">
                Can I run these benchmarks myself?
                <span class="faq-toggle">‚ñº</span>
            </div>
            <div class="faq-answer">
                Yes! Our testing methodology is transparent. You'll need API keys for each provider you want to test. Results may vary based on your geographic location and network conditions.
            </div>
        </div>
    </section>

    <footer id="site-footer">
        <div>A <a href="mailto:contact@braiain.com">dnilgis</a> project.</div>
        <div class="legal-text">
            <strong>Legal Disclaimer:</strong> Benchmark data provided for informational purposes only. Performance and pricing may vary based on usage, location, and API tier. All product names, logos, and brands are property of their respective owners. This site is not affiliated with or endorsed by any AI provider. Data accuracy is not guaranteed. Use at your own risk.
        </div>
        <div style="margin-top: 15px; font-size: 0.85em;">
            Last updated: <span id="footer-timestamp">Loading...</span>
        </div>
    </footer>

    <script>
        // EMBEDDED FALLBACK DATA
        const FALLBACK_DATA = {
            "last_updated": "2025-11-28 21:56:17 UTC",
            "prompt": "Write a complete, three-paragraph summary of the history of the internet, ending with a prediction for 2030...",
            "max_tokens": 300,
            "results": [
                {"provider": "Groq", "model": "Llama 3.3 70B", "time": 0.53, "status": "Online", "response_preview": "The internet originated in the 1960s as a US military project...", "full_response": "The internet originated in the 1960s as a US military project, ARPANET, designed to create a decentralized communication network. By the 1980s, TCP/IP protocols standardized data transmission, enabling global connectivity. The 1990s saw the World Wide Web's emergence, revolutionizing information access through browsers like Mosaic and Netscape.\n\nThe 2000s brought social media platforms, smartphones, and cloud computing, transforming daily life. Web 2.0 enabled user-generated content, e-commerce exploded, and streaming services changed entertainment consumption. Mobile internet access became ubiquitous, connecting billions worldwide.\n\nBy 2030, the internet will likely integrate AI assistants seamlessly into daily tasks, expand through satellite networks to reach remote areas, and enable immersive virtual reality experiences. Quantum computing may revolutionize encryption and data processing, while IoT devices create interconnected smart cities. Privacy concerns and digital governance will shape the internet's evolution, balancing innovation with security and individual rights in an increasingly connected world.", "tokens_per_second": 176, "output_tokens": 479, "character_count": 1087, "cost_per_request": 0.0},
                {"provider": "OpenAI", "model": "GPT-4o Mini", "time": 6.08, "status": "Online", "response_preview": "The internet's origins trace back to the 1960s with ARPANET...", "full_response": "The internet's origins trace back to the 1960s with ARPANET, a U.S. Department of Defense project designed to enable communication between computers. The 1980s saw the development of TCP/IP protocols, standardizing data transmission and laying the groundwork for modern networking. The World Wide Web, created by Tim Berners-Lee in 1989, revolutionized access to information, making the internet user-friendly and widely accessible by the 1990s.\n\nThe 2000s marked explosive growth with social media platforms like Facebook and Twitter, e-commerce giants like Amazon, and the rise of mobile internet through smartphones. Cloud computing transformed business operations, while streaming services like Netflix changed entertainment consumption. The internet became integral to daily life, connecting billions globally.\n\nBy 2030, the internet will likely feature ubiquitous AI integration, seamless virtual and augmented reality experiences, and expanded Internet of Things ecosystems. Enhanced 6G networks will enable near-instantaneous global communication, while blockchain technologies may decentralize control and improve security. The internet will continue evolving as humanity's primary platform for connection, commerce, and innovation.", "tokens_per_second": 44, "output_tokens": 300, "character_count": 1172, "cost_per_request": 0.0002},
                {"provider": "Anthropic", "model": "Claude 3.5 Sonnet", "time": 99.9999, "status": "API FAILURE", "response_preview": "All model versions failed", "full_response": "All model versions failed", "tokens_per_second": 0, "output_tokens": 0, "character_count": 0, "cost_per_request": null}
            ],
            "history": [
                {"timestamp": "2025-11-21 00:00:00 UTC", "results": {"Groq": {"time": 2.1, "tps": 220, "status": "Online", "cost": 0.0}, "OpenAI": {"time": 6.5, "tps": 46, "status": "Online", "cost": 0.000185}}},
                {"timestamp": "2025-11-28 21:56:17 UTC", "results": {"Groq": {"time": 0.53, "tps": 176, "status": "Online", "cost": 0.0}, "OpenAI": {"time": 6.08, "tps": 44, "status": "Online", "cost": 0.0002}}}
            ]
        };

        const AFFILIATE_LINKS = {
            "OpenAI": "https://platform.openai.com/signup",
            "Google": "https://ai.google.dev/",
            "Anthropic": "https://console.anthropic.com/",
            "Groq": "https://console.groq.com/",
            "Mistral AI": "https://console.mistral.ai/",
            "Cohere": "https://dashboard.cohere.com/",
            "Together AI": "https://api.together.xyz/"
        };
        
        const PROVIDER_COLORS = {
            "OpenAI": "#10a37f",
            "Anthropic": "#d97757",
            "Google": "#4285f4",
            "Groq": "#f55036",
            "Mistral AI": "#ff7000",
            "Cohere": "#39594d",
            "Together AI": "#6366f1"
        };

        let dataSource = "loading";
        let trendChart = null;
        let currentChartRange = 7;
        let fullHistoryData = [];
        let currentSort = 'speed';
        let allResults = [];

        // THEME TOGGLE
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'theme_toggle', {event_category: 'ui', event_label: newTheme});
            }
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.body.setAttribute('data-theme', savedTheme);

        // FAQ TOGGLE
        function toggleFAQ(element) {
            const faqItem = element.parentElement;
            faqItem.classList.toggle('active');
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'faq_toggle', {event_category: 'engagement'});
            }
        }

        // RESPONSE TOGGLE
        function toggleResponse(element) {
            element.classList.toggle('expanded');
            if (typeof gtag !== 'undefined') {
                const action = element.classList.contains('expanded') ? 'expand' : 'collapse';
                gtag('event', 'response_' + action, {event_category: 'engagement'});
            }
        }

        function setDataSourceIndicator(source, data) {
            const indicator = document.getElementById("data-source-indicator");
            indicator.className = "data-source-indicator data-" + source;
            indicator.innerHTML = source === "live" 
                ? `‚úÖ <strong>Live Data</strong> - Updated: ${data.last_updated} | Auto-refreshes every 6 hours` 
                : `‚ö†Ô∏è <strong>Using Cached Data</strong> - Last snapshot: ${data.last_updated}`;
        }

        function escapeHtml(text) {
            const div = document.createElement("div");
            div.textContent = text;
            return div.innerHTML;
        }

        function getSpeedClass(time, isOnline) {
            return !isOnline ? "status-error" : time < 5 ? "speed-fast" : time < 10 ? "speed-medium" : "speed-slow";
        }

        function getTpsClass(tps) {
            return tps > 60 ? "tps-fast" : tps > 30 ? "tps-medium" : "tps-slow";
        }

        function getCostClass(cost) {
            return cost === null || cost === 0 ? "cost-free" : cost < 0.001 ? "cost-cheap" : "cost-expensive";
        }

        function formatCost(cost) {
            return cost === null ? "N/A" : cost === 0 ? "FREE" : cost < 0.0001 ? "<$0.0001" : `$${cost.toFixed(4)}`;
        }
        
        function getCharCountClass(charCount) {
            if (!charCount || charCount === 0) return 'char-short';
            if (charCount < 1000) return 'char-short';
            if (charCount <= 1200) return 'char-ok';
            return 'char-over';
        }

        function createTrendChart(history, range = 7) {
            const ctx = document.getElementById("trendChart");
            const chartSection = document.getElementById("chart-section");
            
            if (!ctx || !history || history.length < 2) {
                if (chartSection) chartSection.style.display = "none";
                return;
            }
            
            if (chartSection) chartSection.style.display = "block";
            fullHistoryData = history;
            
            const recentHistory = range > 0 ? history.slice(-range) : history;
            const labels = [];
            const datasets = {};
            
            recentHistory.forEach(entry => {
                const date = new Date(entry.timestamp);
                labels.push(date.toLocaleDateString("en-US", {month: "short", day: "numeric"}));
                
                Object.keys(entry.results).forEach(provider => {
                    if (!datasets[provider]) {
                        datasets[provider] = {
                            label: provider,
                            data: [],
                            borderColor: PROVIDER_COLORS[provider] || "#999",
                            backgroundColor: PROVIDER_COLORS[provider] || "#999",
                            tension: 0.3,
                            spanGaps: true,
                            pointRadius: 4,
                            pointHoverRadius: 6
                        };
                    }
                    
                    const time = entry.results[provider].time;
                    datasets[provider].data.push(time < 99 && entry.results[provider].status === "Online" ? time : null);
                });
            });
            
            if (trendChart) trendChart.destroy();
            
            trendChart = new Chart(ctx, {
                type: "line",
                data: {
                    labels: labels,
                    datasets: Object.values(datasets)
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: "top",
                            labels: {
                                usePointStyle: true,
                                padding: 15,
                                font: { size: 12 }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    if (context.parsed.y === null) return null;
                                    return context.dataset.label + ": " + context.parsed.y.toFixed(2) + "s";
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: "Response Time (seconds)"
                            },
                            grid: {
                                color: "rgba(0, 0, 0, 0.05)"
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    },
                    interaction: {
                        mode: "index",
                        intersect: false
                    }
                }
            });
        }

        function updateChartRange(range) {
            currentChartRange = range;
            document.querySelectorAll(".chart-btn").forEach(btn => btn.classList.remove("active"));
            event.target.classList.add("active");
            if (fullHistoryData.length > 0) createTrendChart(fullHistoryData, range);
        }

        function calculateBadges(results) {
            if (results.length === 0) return {};
            const online = results.filter(r => r.status === "Online");
            if (online.length === 0) return {};
            
            const badges = {};
            
            const fastest = online.reduce((min, r) => r.time < min.time ? r : min);
            badges[fastest.provider] = badges[fastest.provider] || [];
            badges[fastest.provider].push("fastest");
            
            const highestTps = online.reduce((max, r) => r.tokens_per_second > max.tokens_per_second ? r : max);
            badges[highestTps.provider] = badges[highestTps.provider] || [];
            badges[highestTps.provider].push("highest-tps");
            
            const paid = online.filter(r => r.cost_per_request > 0);
            if (paid.length > 0) {
                const bestValue = paid.reduce((best, r) => {
                    const value = r.tokens_per_second / r.cost_per_request;
                    const bestVal = best.tokens_per_second / best.cost_per_request;
                    return value > bestVal ? r : best;
                });
                badges[bestValue.provider] = badges[bestValue.provider] || [];
                badges[bestValue.provider].push("best-value");
            }
            
            return badges;
        }

        function createModelCard(result, rank, badges) {
            const card = document.createElement("div");
            card.className = "model-card";
            const isOnline = result.status === "Online";
            const speedClass = getSpeedClass(result.time, isOnline);
            const tpsClass = getTpsClass(result.tokens_per_second);
            const costClass = getCostClass(result.cost_per_request);
            const charClass = getCharCountClass(result.character_count);
            
            const timeDisplay = isOnline ? `${result.time.toFixed(2)}s` : "N/A";
            const tpsDisplay = isOnline ? result.tokens_per_second.toFixed(0) : "N/A";
            const rankClass = (isOnline && rank <= 3) ? ` rank-${rank}` : "";
            
            const providerBadges = badges[result.provider] || [];
            let badgesHTML = "";
            if (providerBadges.length > 0) {
                badgesHTML = '<div class="badge-container">';
                providerBadges.forEach(badge => {
                    const text = badge === "fastest" ? "‚ö° Fastest" : 
                                 badge === "highest-tps" ? "üöÄ Highest TPS" : 
                                 badge === "best-value" ? "üí∞ Best Value" : "";
                    badgesHTML += `<span class="badge badge-${badge}">${text}</span>`;
                });
                badgesHTML += "</div>";
            }
            
            const link = AFFILIATE_LINKS[result.provider];
            const affiliateButtonHTML = isOnline 
                ? `<a href="${link}" target="_blank" rel="noopener" class="affiliate-btn">Try ${result.provider}</a>` 
                : '<div class="affiliate-btn" style="background: linear-gradient(135deg, #c62828 0%, #b71c1c 100%); cursor: not-allowed;">Currently Offline</div>';
            
            const charCountHTML = result.character_count 
                ? `<span class="char-count-badge ${charClass}">${result.character_count} chars</span>` 
                : '';
            
            const responseHTML = isOnline && result.response_preview 
                ? `<div class="response-preview-bottom" onclick="toggleResponse(this)">
                    ${escapeHtml(result.response_preview)}
                    <button class="copy-btn" onclick="event.stopPropagation(); copyResponse('${escapeHtml(result.full_response).replace(/'/g, "\\'")}', this)">üìã Copy</button>
                </div>` 
                : '';
            
            card.innerHTML = `
                <div class="card-header">
                    <span class="rank-badge${rankClass}">#${rank}</span>
                    <div class="provider-model-wrapper">
                        <div class="card-provider">${escapeHtml(result.provider)}</div>
                        <div class="card-model">${escapeHtml(result.model)} ${charCountHTML}</div>
                    </div>
                </div>
                
                ${badgesHTML}
                
                <div class="stats-wrapper">
                    <div class="stat-group">
                        <div class="stat-label">Speed</div>
                        <div class="stat-value ${speedClass}">${timeDisplay}</div>
                    </div>
                    <div class="stat-group">
                        <div class="stat-label">TPS</div>
                        <div class="stat-value ${tpsClass}">${tpsDisplay}</div>
                    </div>
                    <div class="stat-group">
                        <div class="stat-label">Status</div>
                        <div class="stat-value ${isOnline ? "status-online" : "status-error"}">
                            ${escapeHtml(result.status)}
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <div class="stat-label">Cost Per Request</div>
                    <div class="cost-badge ${costClass}">${formatCost(result.cost_per_request)}</div>
                </div>
                
                ${affiliateButtonHTML}
                ${responseHTML}
            `;
            
            return card;
        }

        function sortResults(sortBy) {
            currentSort = sortBy;
            document.querySelectorAll('.sort-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            displayResults({...allResults, results: getSortedResults()}, dataSource);
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'sort_change', {event_category: 'interaction', event_label: sortBy});
            }
        }

        function copyResponse(text, button) {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = button.innerHTML;
                button.innerHTML = '‚úÖ Copied!';
                button.style.background = '#4caf50';
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = '';
                }, 2000);
                
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'copy_response', {event_category: 'engagement'});
                }
            }).catch(err => {
                console.error('Failed to copy:', err);
                button.innerHTML = '‚ùå Failed';
                setTimeout(() => {
                    button.innerHTML = 'üìã Copy';
                }, 2000);
            });
        }

        function getSortedResults() {
            let sorted = [...allResults.results];
            
            if (currentSort === 'speed') {
                sorted.sort((a, b) => {
                    if (a.status !== 'Online') return 1;
                    if (b.status !== 'Online') return -1;
                    return a.time - b.time;
                });
            } else if (currentSort === 'tps') {
                sorted.sort((a, b) => {
                    if (a.status !== 'Online') return 1;
                    if (b.status !== 'Online') return -1;
                    return b.tokens_per_second - a.tokens_per_second;
                });
            } else if (currentSort === 'cost') {
                sorted.sort((a, b) => {
                    if (a.status !== 'Online') return 1;
                    if (b.status !== 'Online') return -1;
                    const costA = a.cost_per_request === null ? 0 : a.cost_per_request;
                    const costB = b.cost_per_request === null ? 0 : b.cost_per_request;
                    return costA - costB;
                });
            }
            
            return sorted;
        }

        function displayResults(data, source = "live") {
            const container = document.getElementById("results-container");
            const lastUpdated = document.getElementById("last-updated");
            const footerTimestamp = document.getElementById("footer-timestamp");
            
            dataSource = source;
            setDataSourceIndicator(source, data);
            
            if (data.last_updated) {
                lastUpdated.textContent = `Last Updated: ${data.last_updated}`;
                footerTimestamp.textContent = data.last_updated;
            }
            
            if (!data.results || data.results.length === 0) {
                container.innerHTML = '<div style="text-align: center; padding: 40px;">No results available</div>';
                return;
            }
            
            allResults = data;
            const results = getSortedResults();
            const badges = calculateBadges(results);
            
            container.innerHTML = "";
            results.forEach((result, index) => {
                const rank = index + 1;
                const card = createModelCard(result, rank, badges);
                container.appendChild(card);
            });
            
            if (data.history && data.history.length >= 2) {
                createTrendChart(data.history, currentChartRange);
            }
            
            // Update header stats
            const onlineCount = results.filter(r => r.status === 'Online').length;
            document.getElementById('provider-count').textContent = results.length;
        }

        async function fetchData() {
            console.log("Attempting to fetch fresh data...");
            const paths = ["./data.json", "data.json", "/data.json"];
            
            for (const path of paths) {
                try {
                    const response = await fetch(path + "?t=" + Date.now());
                    if (response.ok) {
                        const data = await response.json();
                        console.log("‚úÖ Successfully loaded fresh data from:", path);
                        displayResults(data, "live");
                        if (typeof gtag !== 'undefined') {
                            gtag("event", "data_loaded", {event_category: "data", event_label: "live_data"});
                        }
                        return true;
                    }
                } catch (error) {
                    console.log(`Failed to load from ${path}:`, error.message);
                }
            }
            
            console.log("‚ö†Ô∏è Could not load data.json, using fallback data");
            displayResults(FALLBACK_DATA, "fallback");
            if (typeof gtag !== 'undefined') {
                gtag("event", "data_loaded", {event_category: "data", event_label: "fallback_data"});
            }
            return false;
        }

        async function refreshData() {
            const button = event.target;
            button.disabled = true;
            button.innerHTML = 'üîÑ Refreshing...';
            
            await fetchData();
            
            setTimeout(() => {
                button.disabled = false;
                button.innerHTML = 'üîÑ Refresh';
            }, 2000);
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'manual_refresh', {event_category: 'interaction'});
            }
        }

        console.log("üöÄ Braiain Speed Index initializing...");
        fetchData();
        
        // Auto-refresh every 6 hours
        setInterval(async () => {
            if (dataSource === "live") {
                console.log("üîÑ Auto-refreshing data...");
                await fetchData();
            }
        }, 21600000);
    </script>
    
    <!-- COMPLETE JSON-LD SCHEMA -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Braiain AI Speed Index",
      "description": "Daily automated benchmarks of AI model API speed, tokens-per-second, and cost efficiency across major providers including OpenAI, Anthropic, Google, Groq, Mistral, Cohere, and Together AI",
      "url": "https://yourwebsite.com",
      "applicationCategory": "DeveloperApplication",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Organization",
        "name": "Braiain"
      },
      "datePublished": "2024-01-01",
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "127"
      }
    }
    </script>
</body>
</html>
