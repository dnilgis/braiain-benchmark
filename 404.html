<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">

<title>BRAIAIN — System Breach</title>

<meta name="description" content="You've breached the firewall. Dodge the trackers to escape.">
<meta name="robots" content="noindex">
<link rel="canonical" href="https://braiain.com/">

<meta property="og:type" content="website">
<meta property="og:site_name" content="BRAIAIN">
<meta property="og:title" content="BRAIAIN — System Breach">
<meta property="og:description" content="404. You've breached the firewall.">
<meta property="og:url" content="https://braiain.com">
<meta property="og:image" content="https://braiain.com/og-image.png">

<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="theme-color" content="#00e5ff">

<!-- GA4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3B3ZCE62NW"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-3B3ZCE62NW');</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#06060c;--surface:#0c0c18;--border:#1a1a2e;
  --cyan:#00e5ff;--green:#00ff9d;--red:#ff003c;--amber:#ffb300;
  --text:#e0e0e0;--muted:#5a5a7a;
  --font-display:'Orbitron',sans-serif;
  --font-mono:'Share Tech Mono',monospace;
}
html{font-size:16px;-webkit-tap-highlight-color:transparent}
body{
  background:var(--bg);color:var(--text);
  font-family:var(--font-mono);
  min-height:100dvh;overflow:hidden;
  display:flex;flex-direction:column;
  align-items:center;justify-content:center;
  position:relative;
}

/* Scanlines */
body::after{
  content:'';position:fixed;inset:0;z-index:9999;pointer-events:none;
  background:repeating-linear-gradient(
    0deg,transparent,transparent 2px,rgba(0,0,0,.06) 2px,rgba(0,0,0,.06) 4px
  );
}

/* ── SCREENS ── */
.screen{
  display:none;flex-direction:column;
  align-items:center;justify-content:center;
  gap:16px;text-align:center;
  padding:20px;width:100%;max-width:480px;
}
.screen.active{display:flex}

/* ── BREACH INTRO ── */
#breach-code{
  font-family:var(--font-mono);font-size:.8rem;
  color:var(--red);letter-spacing:2px;opacity:.6;
}
#breach-title{
  font-family:var(--font-display);font-size:clamp(1.4rem,5vw,2rem);
  font-weight:900;letter-spacing:4px;color:var(--red);
  text-shadow:0 0 30px rgba(255,0,60,.4),0 0 60px rgba(255,0,60,.15);
  animation:glitch 3s infinite;
}
#breach-sub{
  font-size:.85rem;color:var(--muted);max-width:340px;line-height:1.6;
}
#breach-sub strong{color:var(--text);font-weight:400}
#breach-controls{
  font-size:.7rem;color:var(--muted);opacity:.5;margin-top:-4px;
}
.breach-btn{
  margin-top:4px;padding:14px 36px;
  font-family:var(--font-display);font-size:.9rem;font-weight:700;
  letter-spacing:3px;text-transform:uppercase;
  color:var(--bg);background:var(--red);
  border:none;cursor:pointer;
  clip-path:polygon(8px 0,100% 0,calc(100% - 8px) 100%,0 100%);
  transition:background .2s,transform .1s;
}
.breach-btn:hover{background:var(--cyan);transform:scale(1.02)}
.breach-btn:active{transform:scale(.97)}
.breach-btn.go-home{
  background:transparent;color:var(--muted);
  border:1px solid var(--border);
  clip-path:none;padding:10px 24px;font-size:.75rem;
  letter-spacing:2px;
}
.breach-btn.go-home:hover{color:var(--text);border-color:var(--text)}
#breach-best{
  font-size:.7rem;color:var(--muted);letter-spacing:1px;
}

@keyframes glitch{
  0%,92%,100%{transform:translate(0)}
  93%{transform:translate(-3px,1px)}
  95%{transform:translate(2px,-1px)}
  97%{transform:translate(-1px,2px)}
}

/* ── GAME ── */
#game-wrap{
  position:fixed;inset:0;display:none;
  flex-direction:column;
}
#game-wrap.active{display:flex}

#game-hud{
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 16px;
  background:rgba(6,6,12,.92);
  border-bottom:1px solid var(--border);
  z-index:10;
}
.hud-item{display:flex;flex-direction:column;align-items:center;gap:1px}
.hud-label{
  font-family:var(--font-mono);font-size:.5rem;
  color:var(--muted);letter-spacing:2px;
}
.hud-val{font-family:var(--font-display);font-weight:700;font-size:1.1rem}
#hud-time .hud-val{color:var(--cyan)}
#hud-score .hud-val{color:var(--green)}
#hud-lives{display:flex;gap:5px;margin-top:2px}
.life-pip{
  width:12px;height:12px;
  background:var(--red);
  clip-path:polygon(50% 0%,100% 35%,82% 100%,18% 100%,0% 35%);
  transition:opacity .3s;
}
.life-pip.lost{opacity:.15}

canvas#game-canvas{
  flex:1;display:block;width:100%;
  touch-action:none;cursor:crosshair;
}

/* ── GAME OVER ── */
#screen-over{gap:14px}
#over-title{
  font-family:var(--font-display);font-size:clamp(1.2rem,4vw,1.6rem);
  font-weight:900;letter-spacing:3px;
}
#over-title.caught{color:var(--red)}
#over-title.escaped{color:var(--green);text-shadow:0 0 20px rgba(0,255,157,.3)}
#over-sub{font-size:.85rem;color:var(--muted);line-height:1.5}
#over-stats{display:flex;gap:24px;margin:8px 0}
.over-stat{display:flex;flex-direction:column;align-items:center;gap:2px}
.over-stat-num{
  font-family:var(--font-display);font-size:1.4rem;
  font-weight:900;color:var(--cyan);
}
.over-stat-label{
  font-family:var(--font-mono);font-size:.55rem;
  color:var(--muted);letter-spacing:1.5px;
}
#over-buttons{display:flex;gap:10px;flex-wrap:wrap;justify-content:center}

/* ── FOOTER ── */
.footer-row{
  position:fixed;bottom:12px;left:0;right:0;
  display:flex;align-items:center;justify-content:center;gap:8px;
  flex-wrap:wrap;z-index:10;
}
.footer-row span,.footer-row a{
  font-family:var(--font-mono);font-size:.6rem;
  color:var(--muted);letter-spacing:.5px;opacity:.35;
}
.footer-row .sep{opacity:.2}
.footer-row a{text-decoration:none;transition:opacity .3s,color .3s}
.footer-row a:hover{opacity:.7;color:var(--text)}

/* ── BG PARTICLES ── */
#particles{position:fixed;inset:0;z-index:-1;pointer-events:none}
</style>
</head>
<body>

<canvas id="particles"></canvas>

<!-- ═══ BREACH INTRO ═══ -->
<div class="screen active" id="screen-breach">
  <div id="breach-code">ERROR 404 // SECTOR NOT FOUND</div>
  <div id="breach-title">SYSTEM BREACH</div>
  <div id="breach-sub">
    You've punched through the firewall into an <strong>unauthorized sector</strong>.
    Trackers are converging on your position. Dodge them to escape back to the mainframe.
  </div>
  <div id="breach-controls">← → KEYS &nbsp;/&nbsp; TOUCH TO MOVE &nbsp;/&nbsp; COLLECT ■ DATA</div>
  <button class="breach-btn" onclick="startGame()">EVADE TRACKERS</button>
  <button class="breach-btn go-home" onclick="window.location.href='/'">RETURN TO MAINFRAME</button>
  <div id="breach-best"></div>
</div>

<!-- ═══ GAME ═══ -->
<div id="game-wrap">
  <div id="game-hud">
    <div class="hud-item" id="hud-time">
      <span class="hud-label">ESCAPE IN</span>
      <span class="hud-val" id="time-val">30</span>
    </div>
    <div class="hud-item">
      <span class="hud-label">SHIELDS</span>
      <div id="hud-lives"></div>
    </div>
    <div class="hud-item" id="hud-score">
      <span class="hud-label">DATA</span>
      <span class="hud-val" id="score-val">0</span>
    </div>
  </div>
  <canvas id="game-canvas"></canvas>
</div>

<!-- ═══ GAME OVER ═══ -->
<div class="screen" id="screen-over">
  <div id="over-title">SIGNAL LOST</div>
  <div id="over-sub"></div>
  <div id="over-stats">
    <div class="over-stat">
      <span class="over-stat-num" id="stat-time">0s</span>
      <span class="over-stat-label">SURVIVED</span>
    </div>
    <div class="over-stat">
      <span class="over-stat-num" id="stat-score">0</span>
      <span class="over-stat-label">DATA</span>
    </div>
    <div class="over-stat">
      <span class="over-stat-num" id="stat-best">0</span>
      <span class="over-stat-label">BEST</span>
    </div>
  </div>
  <div id="over-buttons">
    <button class="breach-btn" onclick="startGame()">RETRY</button>
    <button class="breach-btn go-home" onclick="window.location.href='/'">RETURN TO MAINFRAME</button>
  </div>
</div>

<!-- ═══ FOOTER ═══ -->
<div class="footer-row">
  <span>&copy; 2026 BRAIAIN</span>
  <span class="sep">&middot;</span>
  <a href="mailto:dnilgis@gmail.com">a dnilgis project</a>
  <span class="sep">&middot;</span>
  <span>no data collected</span>
</div>

<script>
/* ══════════════════════════════════════
   CONSTANTS
   ══════════════════════════════════════ */
const ESCAPE_TIME   = 30;
const START_LIVES   = 3;
const PLAYER_SPEED  = 6;
const PLAYER_W      = 24;
const PLAYER_H      = 14;
const DATA_CHANCE   = 0.12;
const DATA_VALUE    = 50;
const BASE_SPAWN_MS = 650;
const BASE_SPEED    = 1.8;

/* ══════════════════════════════════════
   STATE
   ══════════════════════════════════════ */
let canvas, ctx, dW, dH;
let player, trackers, pickups, fx;
let lives, score, timeLeft, running, escaped;
let spawnCD, spawnInterval, speedBonus;
let keys = {};
let touchTarget = null;
let raf = null;
let prevT = 0;

/* ══════════════════════════════════════
   AMBIENT PARTICLES
   ══════════════════════════════════════ */
(function(){
  const c = document.getElementById('particles');
  const cx = c.getContext('2d');
  let dots = [];
  function resize(){
    c.width = innerWidth; c.height = innerHeight;
    dots = Array.from({length:35}, () => ({
      x: Math.random()*c.width, y: Math.random()*c.height,
      vy: .1+Math.random()*.35, r: .4+Math.random()*1, a: .03+Math.random()*.1
    }));
  }
  function draw(){
    cx.clearRect(0,0,c.width,c.height);
    for(const d of dots){
      d.y += d.vy;
      if(d.y > c.height+5){ d.y = -5; d.x = Math.random()*c.width; }
      cx.beginPath(); cx.arc(d.x,d.y,d.r,0,Math.PI*2);
      cx.fillStyle = 'rgba(0,229,255,'+d.a+')'; cx.fill();
    }
    requestAnimationFrame(draw);
  }
  addEventListener('resize', resize); resize(); draw();
})();

/* ══════════════════════════════════════
   SCREEN MANAGEMENT
   ══════════════════════════════════════ */
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById('game-wrap').classList.remove('active');
  if(id === 'game') document.getElementById('game-wrap').classList.add('active');
  else document.getElementById(id).classList.add('active');
}

// Show best on intro
const savedBest = parseInt(localStorage.getItem('braiain_404_best') || '0');
if(savedBest > 0) document.getElementById('breach-best').textContent = 'BEST RUN: '+savedBest+' DATA';

/* ══════════════════════════════════════
   START GAME
   ══════════════════════════════════════ */
function startGame(){
  canvas = document.getElementById('game-canvas');
  ctx = canvas.getContext('2d');
  showScreen('game');

  function resize(){
    const wrap = document.getElementById('game-wrap');
    const hud = document.getElementById('game-hud');
    const cw = wrap.clientWidth;
    const ch = wrap.clientHeight - hud.offsetHeight;
    const pr = Math.min(devicePixelRatio, 2);
    canvas.width = cw * pr; canvas.height = ch * pr;
    canvas.style.width = cw+'px'; canvas.style.height = ch+'px';
    ctx.setTransform(pr,0,0,pr,0,0);
    dW = cw; dH = ch;
  }
  setTimeout(resize, 20);
  window.onresize = resize;

  // Init
  player = { x:0, y:0, w:PLAYER_W, h:PLAYER_H, flash:0, inv:0 };
  trackers = []; pickups = []; fx = [];
  lives = START_LIVES; score = 0;
  timeLeft = ESCAPE_TIME; running = true; escaped = false;
  spawnInterval = BASE_SPAWN_MS; spawnCD = 0; speedBonus = 0;
  prevT = 0;

  renderLives();
  document.getElementById('time-val').textContent = timeLeft;
  document.getElementById('score-val').textContent = 0;

  // Wait for resize then center player
  setTimeout(() => {
    player.x = dW / 2; player.y = dH - 44;
  }, 40);

  // Difficulty ramp
  const ramp = setInterval(() => {
    if(!running){ clearInterval(ramp); return; }
    spawnInterval = Math.max(180, spawnInterval * .9);
    speedBonus += .4;
  }, 5000);

  // Countdown
  const clock = setInterval(() => {
    if(!running){ clearInterval(clock); return; }
    timeLeft = Math.max(0, timeLeft - 1);
    document.getElementById('time-val').textContent = timeLeft;
    // Urgency color
    if(timeLeft <= 5) document.querySelector('#hud-time .hud-val').style.color = 'var(--red)';
    else if(timeLeft <= 10) document.querySelector('#hud-time .hud-val').style.color = 'var(--amber)';
    if(timeLeft <= 0){ escaped = true; endGame(); }
  }, 1000);

  if(raf) cancelAnimationFrame(raf);
  raf = requestAnimationFrame(loop);
}

/* ══════════════════════════════════════
   GAME LOOP
   ══════════════════════════════════════ */
function loop(t){
  if(!running) return;
  if(!prevT) prevT = t;
  const dt = Math.min(t - prevT, 50);
  prevT = t;

  update(dt);
  render();
  raf = requestAnimationFrame(loop);
}

/* ══════════════════════════════════════
   UPDATE
   ══════════════════════════════════════ */
function update(dt){
  if(!dW) return;

  // ── Player movement ──
  let dir = 0;
  if(keys['ArrowLeft']||keys['a']||keys['A']) dir = -1;
  if(keys['ArrowRight']||keys['d']||keys['D']) dir = 1;

  // Touch: player moves toward finger
  if(touchTarget !== null){
    const diff = touchTarget - player.x;
    if(Math.abs(diff) > 3){
      player.x += Math.sign(diff) * Math.min(PLAYER_SPEED * 1.2, Math.abs(diff));
    }
  } else {
    player.x += dir * PLAYER_SPEED;
  }
  player.x = Math.max(player.w/2, Math.min(dW - player.w/2, player.x));
  player.y = dH - 44;

  if(player.flash > 0) player.flash -= dt;
  if(player.inv > 0) player.inv -= dt;

  // ── Spawn ──
  spawnCD += dt;
  if(spawnCD >= spawnInterval){
    spawnCD = 0;
    if(Math.random() < DATA_CHANCE){
      pickups.push({
        x: 16 + Math.random()*(dW-32), y: -14,
        w:11, h:11, vy: (BASE_SPEED + speedBonus) * .65
      });
    } else {
      const tw = 14 + Math.random()*28;
      const th = 8 + Math.random()*12;
      trackers.push({
        x: tw/2 + Math.random()*(dW-tw), y: -th,
        w:tw, h:th,
        vy: BASE_SPEED + speedBonus + Math.random()*1.5,
        vx: (Math.random()-.5)*1.2
      });
    }
  }

  // ── Move trackers ──
  for(let i=trackers.length-1; i>=0; i--){
    const t = trackers[i];
    t.y += t.vy; t.x += t.vx;
    // Bounce off walls
    if(t.x < t.w/2 || t.x > dW-t.w/2) t.vx *= -1;
    if(t.y > dH+30){ trackers.splice(i,1); continue; }

    if(player.inv <= 0 && hit(player, t)){
      trackers.splice(i,1);
      playerHit();
    }
  }

  // ── Move pickups ──
  for(let i=pickups.length-1; i>=0; i--){
    const p = pickups[i];
    p.y += p.vy;
    if(p.y > dH+20){ pickups.splice(i,1); continue; }

    if(hit(player, p)){
      pickups.splice(i,1);
      score += DATA_VALUE;
      document.getElementById('score-val').textContent = score;
      burst(p.x, p.y, 'green', 6);
    }
  }

  // ── Particles ──
  for(let i=fx.length-1; i>=0; i--){
    const p = fx[i];
    p.x += p.vx; p.y += p.vy; p.vy += .06;
    p.life -= dt;
    if(p.life <= 0) fx.splice(i,1);
  }
}

function hit(a,b){
  return Math.abs(a.x-b.x) < (a.w+b.w)/2 * .85 &&
         Math.abs(a.y-b.y) < (a.h+b.h)/2 * .85;
}

function playerHit(){
  lives--; player.flash = 250; player.inv = 1400;
  burst(player.x, player.y, 'red', 12);
  renderLives();
  if(lives <= 0){ escaped = false; endGame(); }
}

function burst(x,y,color,n){
  for(let i=0;i<n;i++){
    fx.push({
      x, y,
      vx: (Math.random()-.5)*5, vy: (Math.random()-.5)*5 - 1,
      life: 250 + Math.random()*350, maxLife: 600, color
    });
  }
}

/* ══════════════════════════════════════
   RENDER
   ══════════════════════════════════════ */
function render(){
  if(!dW) return;
  ctx.clearRect(0,0,dW,dH);

  // ── Grid ──
  ctx.strokeStyle = 'rgba(0,229,255,.035)';
  ctx.lineWidth = .5;
  for(let x=0; x<dW; x+=36){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,dH);ctx.stroke();}
  for(let y=0; y<dH; y+=36){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(dW,y);ctx.stroke();}

  // ── Warning zone (bottom) ──
  const grad = ctx.createLinearGradient(0,dH-80,0,dH);
  grad.addColorStop(0,'rgba(0,229,255,0)');
  grad.addColorStop(1,'rgba(0,229,255,.03)');
  ctx.fillStyle = grad;
  ctx.fillRect(0,dH-80,dW,80);

  // ── Trackers ──
  for(const t of trackers){
    ctx.shadowColor = 'rgba(255,0,60,.45)';
    ctx.shadowBlur = 10;
    ctx.fillStyle = 'rgba(255,0,60,.65)';
    ctx.fillRect(t.x-t.w/2, t.y-t.h/2, t.w, t.h);
    // Inner detail
    ctx.fillStyle = 'rgba(255,0,60,.25)';
    ctx.fillRect(t.x-t.w/2+2, t.y-1, t.w-4, 2);
    ctx.shadowBlur = 0;
  }

  // ── Pickups ──
  for(const p of pickups){
    ctx.save();
    ctx.translate(p.x, p.y);
    ctx.rotate(Date.now()/500);
    ctx.shadowColor = 'rgba(0,255,157,.5)';
    ctx.shadowBlur = 8;
    ctx.fillStyle = 'rgba(0,255,157,.75)';
    ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
    ctx.shadowBlur = 0;
    ctx.restore();
  }

  // ── Particles ──
  for(const p of fx){
    const a = Math.max(0, p.life / p.maxLife);
    ctx.fillStyle = p.color === 'red'
      ? 'rgba(255,0,60,'+a+')'
      : 'rgba(0,255,157,'+a+')';
    ctx.fillRect(p.x-2,p.y-2,4,4);
  }

  // ── Player ──
  const blink = player.inv > 0 && Math.floor(Date.now()/80)%2;
  if(!blink){
    const isHit = player.flash > 0;
    ctx.fillStyle = isHit ? 'rgba(255,0,60,.9)' : 'rgba(0,229,255,.9)';
    ctx.shadowColor = isHit ? 'rgba(255,0,60,.5)' : 'rgba(0,229,255,.5)';
    ctx.shadowBlur = 14;

    const px = player.x, py = player.y;
    ctx.beginPath();
    ctx.moveTo(px, py - player.h);           // tip
    ctx.lineTo(px + player.w/2, py + player.h*.4);  // right wing
    ctx.lineTo(px + player.w*.2, py + player.h*.25);
    ctx.lineTo(px - player.w*.2, py + player.h*.25);
    ctx.lineTo(px - player.w/2, py + player.h*.4);  // left wing
    ctx.closePath();
    ctx.fill();
    ctx.shadowBlur = 0;

    // Engine glow
    const glow = .25 + Math.random()*.2;
    ctx.fillStyle = 'rgba(0,229,255,'+glow+')';
    const flame = 3 + Math.random()*5;
    ctx.fillRect(px-2.5, py+player.h*.25, 5, flame);
  }
}

/* ══════════════════════════════════════
   HUD
   ══════════════════════════════════════ */
function renderLives(){
  const el = document.getElementById('hud-lives');
  el.innerHTML = '';
  for(let i=0; i<START_LIVES; i++){
    const d = document.createElement('div');
    d.className = 'life-pip' + (i >= lives ? ' lost' : '');
    el.appendChild(d);
  }
}

/* ══════════════════════════════════════
   END GAME
   ══════════════════════════════════════ */
function endGame(){
  running = false;
  if(raf) cancelAnimationFrame(raf);
  window.onresize = null;

  const best = parseInt(localStorage.getItem('braiain_404_best')||'0');
  if(score > best) localStorage.setItem('braiain_404_best', score+'');
  const dispBest = Math.max(score, best);

  const title = document.getElementById('over-title');
  const sub = document.getElementById('over-sub');

  if(escaped){
    title.textContent = 'FIREWALL BYPASSED';
    title.className = 'escaped';
    sub.innerHTML = 'You evaded every tracker and made it out.<br>The mainframe is waiting.';
  } else {
    title.textContent = 'SIGNAL LOST';
    title.className = 'caught';
    const msgs = [
      'Trackers locked your position.',
      'Your signal was intercepted.',
      'The firewall caught you.',
      'Trackers overwhelmed your shields.'
    ];
    sub.innerHTML = msgs[Math.floor(Math.random()*msgs.length)]+'<br>Try again or head back to safety.';
  }

  document.getElementById('stat-time').textContent = (ESCAPE_TIME - timeLeft)+'s';
  document.getElementById('stat-score').textContent = score;
  document.getElementById('stat-best').textContent = dispBest;

  // Reset timer color
  const tv = document.querySelector('#hud-time .hud-val');
  if(tv) tv.style.color = 'var(--cyan)';

  showScreen('screen-over');
}

/* ══════════════════════════════════════
   INPUT
   ══════════════════════════════════════ */
addEventListener('keydown', e => {
  keys[e.key] = true;
  if(['ArrowLeft','ArrowRight','ArrowUp','ArrowDown',' '].includes(e.key)) e.preventDefault();
});
addEventListener('keyup', e => { keys[e.key] = false; });

// Touch input
addEventListener('touchstart', e => {
  if(!running) return;
  touchTarget = e.touches[0].clientX;
  e.preventDefault();
}, {passive:false});

addEventListener('touchmove', e => {
  if(!running) return;
  touchTarget = e.touches[0].clientX;
  e.preventDefault();
}, {passive:false});

addEventListener('touchend', () => { touchTarget = null; });

// Mouse — player follows cursor X during game
addEventListener('mousemove', e => {
  if(running) touchTarget = e.clientX;
});
addEventListener('mouseleave', () => { touchTarget = null; });

</script>
</body>
</html>
